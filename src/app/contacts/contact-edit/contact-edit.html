<div class="panel panel-default">
  <div class="panel-heading">
    {{ editMode ? 'Edit Contact' : 'New Contact' }}
  </div>

  <div class="panel-body">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">

      <div class="form-group">
        <label for="name">Name</label>
        <input
          id="name"
          class="form-control"
          name="name"
          required
          #nameRef="ngModel"
          [ngModel]="contact?.name" />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input
          id="email"
          class="form-control"
          name="email"
          required
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
          #emailRef="ngModel"
          [ngModel]="contact?.email" />

        <div class="alert alert-danger" *ngIf="emailRef.touched && emailRef.invalid">
          Enter a valid Email address
        </div>
      </div>

      <div class="form-group">
        <label for="phone">Phone</label>
        <input
          id="phone"
          class="form-control"
          name="phone"
          pattern="\D*([2-9]\d{2})(\D*)([2-9]\d{2})(\D*)(\d{4})\D*"
          #phoneRef="ngModel"
          [ngModel]="contact?.phone" />

        <div class="alert alert-danger" *ngIf="phoneRef.touched && phoneRef.invalid">
          Enter a valid phone number
        </div>
      </div>

      <div class="form-group">
        <label for="imageUrl">Image URL</label>
        <input
          id="imageUrl"
          class="form-control"
          name="imageUrl"
          [ngModel]="contact?.imageUrl" />
      </div>

      <div class="alert alert-danger"
           *ngIf="(nameRef.untouched && nameRef.invalid) || (emailRef.untouched && emailRef.invalid)">
        The Name and Email fields are required.
      </div>

      <div class="btn-toolbar">
        <button class="btn btn-success" type="submit" [disabled]="!f.valid">Save</button>
        <button class="btn btn-default" type="button" style="margin-left: 6px;" (click)="onCancel()">Cancel</button>
      </div>

    </form>
  </div>
</div>